{
  "tags": [
    "user",
    "analytics:time_series",
    "mediocre"
  ],
  "summary": "Performs time-series analysis of user activities",
  "description": "Calculates time-series based density analysis of user activities.",
  "operationId": "activityDensityTimeSeries",
  "parameters": [
    {
      "name": "user_id",
      "in": "query",
      "required": false,
      "description": "Identifier of the user to filter the activities.",
      "type": "integer",
      "format": "int64"
    },
    {
      "name": "window",
      "in": "query",
      "required": true,
      "type": "integer",
      "format": "int32",
      "minimum": 1,
      "description": "Specifies size of the window in seconds to perform time-series analysis."
    },
    {
      "name": "frames",
      "in": "query",
      "required": true,
      "type": "integer",
      "format": "int32",
      "minimum": 1,
      "maximum": 80,
      "default": 40,
      "description": "Specifies number of windows to perform time-series analysis."
    }
  ],
  "responses": {
    "200": {
      "schema": {
        "type": "object",
        "properties": {
          "statistics": {
            "type": "object",
            "properties": {
              "population_size": {
                "type": "integer",
                "format": "int64",
                "description": "Population size of time-series source."
              },
              "mean": {
                "type": "number",
                "format": "float",
                "description": "Expected value of the time-series source."
              },
              "variance": {
                "type": "number",
                "format": "float",
                "description": "Variance of the time-series source."
              },
              "standard_deviation": {
                "type": "number",
                "format": "float",
                "description": "Standard deviation of the time-series source."
              }
            }
          },
          "time_series": {
            "type": "array",
            "items": {
              "type": "array",
              "description": "The array will contain sample data in pre-determined order: Index, number of the activities and timestamp of the sample.", 
              "minItems": 3,
              "maxItems": 3
            }
          }
        }
      },
      "description": "Response containing time-series data and statistics"
    }
  }
}
